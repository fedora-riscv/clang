summary: Test that gcc and clang use the same long double format on ppc64le
test: $WITH_SCL ./runtest.sh
duration: 1h
# see https://bugzilla.redhat.com/show_bug.cgi?id=2115752
enabled: false
adjust:
  # Common requirements when LLVM is not SCL-ized
  - require+:
      - clang
    when: "collection is not defined"

  - because: "Fedora CI runs in x86_64 only, emulate with qemu and mock"
    require+:
    - qemu-user-static
    - mock
    test: ./runtest-fedora.sh
    when: distro == fedora and arch == x86_64
    continue: false

  - enabled: false
    when: arch != ppc64le

  - require+:
    - gcc
    when: distro != fedora

  # Requirements for SCL-ized LLVM
  - require+:
      - llvm-toolset-13.0-clang
    when: "collection == llvm-toolset-13.0"
  - require+:
      - llvm-toolset-14.0-clang
    when: "collection == llvm-toolset-14.0"
