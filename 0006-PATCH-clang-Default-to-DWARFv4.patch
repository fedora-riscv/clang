From 9a15126f5d23fff66603d4bec86e722c4b6f3085 Mon Sep 17 00:00:00 2001
From: Konrad Kleine <kkleine@redhat.com>
Date: Fri, 28 Jan 2022 22:25:26 +0100
Subject: [PATCH][clang] Default to DWARFv4

This is a patch to partially revert d3b26dea16108c427b19b5480c9edc76edf8f5b4
---
 clang/include/clang/Driver/ToolChain.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/clang/include/clang/Driver/ToolChain.h b/clang/include/clang/Driver/ToolChain.h
index 329833bb13be..bb80837fadde 100644
--- a/clang/include/clang/Driver/ToolChain.h
+++ b/clang/include/clang/Driver/ToolChain.h
@@ -513,7 +513,7 @@ public:
 
   // Return the DWARF version to emit, in the absence of arguments
   // to the contrary.
-  virtual unsigned GetDefaultDwarfVersion() const { return 5; }
+  virtual unsigned GetDefaultDwarfVersion() const { return 4; }
 
   // Some toolchains may have different restrictions on the DWARF version and
   // may need to adjust it. E.g. NVPTX may need to enforce DWARF2 even when host
-- 
2.34.1

